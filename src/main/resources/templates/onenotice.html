<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
    <link rel="icon" href="https://i.postimg.cc/YqTT15xb/image.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>&nd 개발자들의 공모전 커뮤니티</title>

    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/main.css"/>
    <!--    <link rel="stylesheet" href="/static/css/main.css"/>-->

    <!-- font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"
            integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>

    <!-- summernote -->
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.js"></script>

    <!-- js Cookie -->
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script>

    <!-- swiper -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

    <!-- SockJS -->
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>

    <!-- Stomp -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>

    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
            crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>

<body>
<div class="main-container">
    <p id="noticeIdParagraph" style="display: none;">noticeId:<span th:text="${noticeId}"></span></p>
    <div class="card mb-3" style="max-width: 50rem;">
        <div class="card-body">
            <h5 class="card-title" id="noticeTitle">공지사항 제목</h5>
            <p class="card-text" id="noticeContent">내용</p>
        </div>
    </div>
</div>
</body>
</html>
<style>

</style>
<script>
    // 공지사항 상세보기
    function removeTags(input) {
        // Use a regular expression to remove <p> and <br> tags
        return input.replace(/<p>|<\/p>|<br>/g, '');
    }

    $(document).ready(function () {
        var noticeId = $('#noticeIdParagraph span').text();

        $.ajax({
            type: 'GET',
            url: `/api/admin/boards/notice/${noticeId}`,
        })
            .done(function (response) {
                var sanitizedContent = removeTags(response.contents);

                $('#noticeTitle').text(response.title);
                $('#noticeContent').text('내용: ' + sanitizedContent);

            })
            .fail(function (response) {
                console.error('게시글을 불러올 수 없습니다.', response);
            });
    });
</script>